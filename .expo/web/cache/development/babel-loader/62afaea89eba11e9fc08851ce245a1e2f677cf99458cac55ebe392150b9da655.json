{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport MapView, { Marker } from 'react-native-maps';\nimport * as Location from 'expo-location';\nimport { useTheme } from \"../hooks\";\nimport Text from \"../components/Text\";\nimport { Camera } from 'expo-camera';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar ARmap = function ARmap(_ref) {\n  var route = _ref.route;\n  var _route$params = route.params,\n    latitude = _route$params.latitude,\n    longitude = _route$params.longitude;\n  var _useTheme = useTheme(),\n    colors = _useTheme.colors,\n    sizes = _useTheme.sizes;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    location = _useState2[0],\n    setLocation = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    cameraVisible = _useState4[0],\n    setCameraVisible = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    hasPermission = _useState6[0],\n    setHasPermission = _useState6[1];\n  var _useState7 = useState(Camera.Constants.Type.back),\n    _useState8 = _slicedToArray(_useState7, 2),\n    type = _useState8[0],\n    setType = _useState8[1];\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      var _yield$Location$reque = yield Location.requestForegroundPermissionsAsync(),\n        status = _yield$Location$reque.status;\n      if (status !== 'granted') {\n        return;\n      }\n      var location = yield Location.getCurrentPositionAsync({});\n      setLocation(location);\n    })();\n    _asyncToGenerator(function* () {\n      var _yield$Camera$request = yield Camera.requestCameraPermissionsAsync(),\n        status = _yield$Camera$request.status;\n      setHasPermission(status === 'granted');\n    })();\n  }, []);\n  useEffect(function () {\n    if (location) {\n      var scheme = Platform.select({\n        ios: 'maps:0,0?q=',\n        android: 'geo:0,0?q='\n      });\n      var latLng = latitude + \",\" + longitude;\n      var url = Platform.select({\n        ios: \"\" + scheme + latLng,\n        android: \"\" + scheme + latLng + \"(\" + encodeURIComponent('Custom Label') + \")\"\n      }) || '';\n      Linking.openURL(url);\n    }\n  }, [location]);\n  var handleImHere = function handleImHere() {\n    setCameraVisible(true);\n  };\n  var handleCameraClose = function handleCameraClose() {\n    setCameraVisible(false);\n  };\n  if (!location) {\n    return null;\n  }\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(MapView, {\n      style: styles.map,\n      initialRegion: {\n        latitude: latitude,\n        longitude: longitude,\n        latitudeDelta: 0.01,\n        longitudeDelta: 0.01\n      },\n      children: [_jsx(Marker, {\n        coordinate: {\n          latitude: latitude,\n          longitude: longitude\n        }\n      }), _jsx(Marker, {\n        coordinate: {\n          latitude: location.coords.latitude,\n          longitude: location.coords.longitude\n        }\n      })]\n    }), _jsx(TouchableOpacity, {\n      style: styles.cameraButton,\n      onPress: handleImHere,\n      activeOpacity: 0.8,\n      children: _jsx(Text, {\n        p: true,\n        color: colors.white,\n        semibold: true,\n        children: \"I'm Here!\"\n      })\n    }), cameraVisible && hasPermission && _jsx(Camera, {\n      style: styles.camera,\n      type: type,\n      children: _jsx(TouchableOpacity, {\n        style: styles.cameraCloseButton,\n        onPress: handleCameraClose,\n        children: _jsx(Text, {\n          p: true,\n          color: colors.white,\n          semibold: true,\n          children: \"Close\"\n        })\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  map: {\n    flex: 1\n  },\n  cameraButton: {\n    position: 'absolute',\n    bottom: 16,\n    left: 16,\n    backgroundColor: 'blue'\n  },\n  camera: {\n    flex: 1\n  },\n  cameraCloseButton: {\n    position: 'absolute',\n    backgroundColor: 'rgba(0,0,0,0.5)',\n    borderRadius: 25,\n    paddingVertical: 12,\n    paddingHorizontal: 24,\n    marginBottom: 20,\n    alignItems: 'center'\n  }\n});\nexport default ARmap;","map":{"version":3,"names":["React","useState","useEffect","View","StyleSheet","TouchableOpacity","Linking","Platform","MapView","Marker","Location","useTheme","Text","Camera","jsx","_jsx","jsxs","_jsxs","ARmap","_ref","route","_route$params","params","latitude","longitude","_useTheme","colors","sizes","_useState","_useState2","_slicedToArray","location","setLocation","_useState3","_useState4","cameraVisible","setCameraVisible","_useState5","_useState6","hasPermission","setHasPermission","_useState7","Constants","Type","back","_useState8","type","setType","_asyncToGenerator","_yield$Location$reque","requestForegroundPermissionsAsync","status","getCurrentPositionAsync","_yield$Camera$request","requestCameraPermissionsAsync","scheme","select","ios","android","latLng","url","encodeURIComponent","openURL","handleImHere","handleCameraClose","style","styles","container","children","map","initialRegion","latitudeDelta","longitudeDelta","coordinate","coords","cameraButton","onPress","activeOpacity","p","color","white","semibold","camera","cameraCloseButton","create","flex","position","bottom","left","backgroundColor","borderRadius","paddingVertical","paddingHorizontal","marginBottom","alignItems"],"sources":["/Users/felipebassi/Documents/VAR-Labs-App/Behrend-Immersive-App/src/screens/ARmap.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, StyleSheet, TouchableOpacity, Linking, Platform } from 'react-native';\nimport MapView, { Marker } from 'react-native-maps';\nimport * as Location from 'expo-location';\nimport { useTheme } from '../hooks';\nimport Text from '../components/Text';\nimport { Camera } from 'expo-camera';\n\ntype Props = {\n  route: {\n    params: {\n      latitude: number;\n      longitude: number;\n    };\n  };\n};\n\nconst ARmap = ({ route }: Props) => {\n  const { latitude, longitude } = route.params;\n  const { colors, sizes } = useTheme();\n  const [location, setLocation] = useState<Location.LocationObject | null>(null);\n  const [cameraVisible, setCameraVisible] = useState(false);\n  const [hasPermission, setHasPermission] = useState<boolean | null>(null);\n  const [type, setType] = useState(Camera.Constants.Type.back);\n\n  useEffect(() => {\n    (async () => {\n      let { status } = await Location.requestForegroundPermissionsAsync();\n      if (status !== 'granted') {\n        return;\n      }\n\n      let location = await Location.getCurrentPositionAsync({});\n      setLocation(location);\n    })();\n\n    (async () => {\n      const { status } = await Camera.requestCameraPermissionsAsync();\n      setHasPermission(status === 'granted');\n    })();\n  }, []);\n\n  useEffect(() => {\n    if (location) {\n      const scheme = Platform.select({ ios: 'maps:0,0?q=', android: 'geo:0,0?q=' });\n      const latLng = `${latitude},${longitude}`;\n      const url = Platform.select({\n        ios: `${scheme}${latLng}`,\n        android: `${scheme}${latLng}(${encodeURIComponent('Custom Label')})`,\n      }) || '';\n\n      Linking.openURL(url);\n    }\n  }, [location]);\n\n  const handleImHere = () => {\n    setCameraVisible(true);\n  };\n\n  const handleCameraClose = () => {\n    setCameraVisible(false);\n  };\n\n  if (!location) {\n    return null;\n  }\n\n  return (\n    <View style={styles.container}>\n      <MapView\n        style={styles.map}\n        initialRegion={{\n          latitude: latitude,\n          longitude: longitude,\n          latitudeDelta: 0.01,\n          longitudeDelta: 0.01,\n        }}>\n        <Marker coordinate={{ latitude: latitude, longitude: longitude }} />\n        <Marker coordinate={{ latitude: location.coords.latitude, longitude: location.coords.longitude }} />\n      </MapView>\n      <TouchableOpacity style={styles.cameraButton} onPress={handleImHere} activeOpacity={0.8}>\n        <Text p color={colors.white} semibold>\n          I'm Here!\n        </Text>\n      </TouchableOpacity>\n      {cameraVisible && hasPermission && (\n        <Camera style={styles.camera} type={type}>\n          <TouchableOpacity style={styles.cameraCloseButton} onPress={handleCameraClose}>\n            <Text p color={colors.white} semibold>\n              Close\n            </Text>\n          </TouchableOpacity>\n        </Camera>\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  map: {\n    flex: 1,\n  },\n  cameraButton: {\n    position: 'absolute',\n    bottom: 16,\n    left: 16,\n    backgroundColor: 'blue',\n  },\n  camera: {\n    flex: 1,\n  },\n  cameraCloseButton: {\n    position: 'absolute',\n    backgroundColor: 'rgba(0,0,0,0.5)',\n    borderRadius: 25,\n    paddingVertical: 12,\n    paddingHorizontal: 24,\n    marginBottom: 20,\n    alignItems: 'center',\n    },\n    });\n    \n    export default ARmap;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}